<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>归并排序</title>
</head>

<body>
  <script type="text/javascript">
    function mergeSort(list){

      if(list.length <= 1) return list;
      var left = list.slice(0, list.length/2);
      var right = list.slice(list.length/2);
      return merge(mergeSort(left), mergeSort(right));
    }

    function merge(array1, array2){
      var result = [];
      var i1 = 0;
      var i2 = 0;
      while(i1 < array1.length && i2 < array2.length){
        if(array1[i1] <= array2[i2])result.push(array1[i1++]);
        else result.push(array2[i2++]);
      }
      if(i1 < array1.length){
        result = result.concat(array1.slice(i1));
      }else{
        result = result.concat(array2.slice(i2));
      }
            //result = i1 < array1.length ? result.concat(array1.slice(i1)) : result.concat(array2.slice(i2));
      return result;
    }


    var a = [10, 1, 5, 4, 7, 8, 2, 9];
    var r = mergeSort(a);
    console.log(r);
  </script>

</body>
</html>
